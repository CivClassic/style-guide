# CivClassic style guide

General style guide for CivClassics plugin development.

All plugins actively maintained by CivClassic follow these rules in their layout and are formatted according to them. Contributors are expected to follow them as well.

## File layout

An example repository to illustrate this layout with recommended defaults for most files is provided [here](https://github.com/CivClassic/CivTemplate)

### Top level directory

Contains only the following:

#### src/ folder

The only folder in this directory, which contains all source code and other plugin files. If the plugin contains multiple Maven modules, each module may have it's own top level directory and each contain its own src/ folder.

#### .editorconfig

Specifies basic formatting based on file type and should always be identical to the one [here](https://github.com/CivClassic/CivTemplate/blob/master/.editorconfig).

#### .gitignore

Should ignore all common random crap generated by IDEs and Maven, a reference is provided [here](https://github.com/CivClassic/CivTemplate/blob/master/.gitignore).

#### README.md

Optional readme describing the general functionality of the plugin.

#### LICENSE.txt

License the plugin is being developed under. All our plugins use either [BSD-3](https://opensource.org/licenses/BSD-3-Clause) or [MIT](https://opensource.org/licenses/MIT).

#### pom.xml

Maven config file, see (TODO link pom section) for more information.

### src/ folder

Follows Maven conventions, as follows:

- All plugin source code (*.java files) is under src/main/java/full/group/id/artifactid/
- All non java plugin files (especially plugin.yml and config.yml) are under src/main/resources/

- All test source code (*.java files) is under src/test/java/full/group/id/artifactid/
- All non java testing files under src/test/resources/

## pom.xml





## How projects should be setup to use this
Maven has the option to check for checkstyle violations and report them as part of the build process.


To use this in your plugin/maven project, add the following to your pom.xml:

```

<project>
  ...
  <reporting>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <version>2.17</version>
        <configuration>
          <configLocation>https://raw.githubusercontent.com/DevotedMC/style-guide/master/src/main/resources/devoted_checks.xml</configLocation>
        </configuration>
      </plugin>
    </plugins>
  </reporting>
  ...
</project>

```


The config location in this pom section refers to Devoteds Stylesheet, which is hosted [here](https://build.devotedmc.com/job/Style-guide-master/lastSuccessfulBuild/artifact/src/main/resources/devoted_checks.xml). If needed you could replace it with whatever you want, the configLocation tag accepts both local paths and URL.


The .editorconfig should be copied over and placed in the root directory of the project like it is done for this project.
